(self.webpackChunk=self.webpackChunk||[]).push([[9998],{82826:function(ce,P,t){"use strict";t.d(P,{Z:function(){return i}});var v=t(87462),c=t(62435),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},x=L,_=t(84089),o=function(w,Z){return c.createElement(_.Z,(0,v.Z)({},w,{ref:Z,icon:x}))},ae=c.forwardRef(o),i=ae},58638:function(ce,P,t){"use strict";t.d(P,{Z:function(){return i}});var v=t(87462),c=t(62435),L={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},x=L,_=t(84089),o=function(w,Z){return c.createElement(_.Z,(0,v.Z)({},w,{ref:Z,icon:x}))},ae=c.forwardRef(o),i=ae},86615:function(ce,P,t){"use strict";var v=t(1413),c=t(91),L=t(22270),x=t(78045),_=t(62435),o=t(90789),ae=t(68019),i=t(86074),d=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],w=_.forwardRef(function(p,G){var T=p.fieldProps,h=p.options,b=p.radioType,A=p.layout,S=p.proFieldProps,Q=p.valueEnum,me=(0,c.Z)(p,d);return(0,i.jsx)(ae.Z,(0,v.Z)((0,v.Z)({valueType:b==="button"?"radioButton":"radio",ref:G,valueEnum:(0,L.h)(Q,void 0)},me),{},{fieldProps:(0,v.Z)({options:h,layout:A},T),proFieldProps:S,filedConfig:{customLightMode:!0}}))}),Z=_.forwardRef(function(p,G){var T=p.fieldProps,h=p.children;return(0,i.jsx)(x.ZP,(0,v.Z)((0,v.Z)({},T),{},{ref:G,children:h}))}),H=(0,o.G)(Z,{valuePropName:"checked",ignoreWidth:!0}),V=H;V.Group=w,V.Button=x.ZP.Button,V.displayName="ProFormComponent",P.Z=V},91618:function(ce,P,t){"use strict";t.d(P,{Z:function(){return Qe}});var v=t(62435),c=Object.defineProperty,L=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,o=(j,f,r)=>f in j?c(j,f,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[f]=r,ae=(j,f)=>{for(var r in f||(f={}))x.call(f,r)&&o(j,r,f[r]);if(L)for(var r of L(f))_.call(f,r)&&o(j,r,f[r]);return j};const i=j=>React.createElement("svg",ae({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u5931\u8D25"),React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm-.81 2.784a.287.287 0 1 0-.406.405l.81.811-.81.81a.287.287 0 1 0 .405.406L4 4.406l.81.81a.287.287 0 1 0 .406-.405L4.406 4l.81-.81a.287.287 0 1 0-.405-.406L4 3.594l-.81-.81Z",fill:"#FF3931",fillRule:"nonzero"}));var d="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00IDBhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04Wm0tLjgxIDIuNzg0YS4yODcuMjg3IDAgMSAwLS40MDYuNDA1bC44MS44MTEtLjgxLjgxYS4yODcuMjg3IDAgMSAwIC40MDUuNDA2TDQgNC40MDZsLjgxLjgxYS4yODcuMjg3IDAgMSAwIC40MDYtLjQwNUw0LjQwNiA0bC44MS0uODFhLjI4Ny4yODcgMCAxIDAtLjQwNS0uNDA2TDQgMy41OTRsLS44MS0uODFaIiBmaWxsPSIjRkYzOTMxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",w=Object.defineProperty,Z=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,p=(j,f,r)=>f in j?w(j,f,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[f]=r,G=(j,f)=>{for(var r in f||(f={}))H.call(f,r)&&p(j,r,f[r]);if(Z)for(var r of Z(f))V.call(f,r)&&p(j,r,f[r]);return j};const T=j=>React.createElement("svg",G({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u901A\u8FC7"),React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm1.712 2.788a.3.3 0 0 0-.424 0L3.502 4.576l-.79-.787a.3.3 0 0 0-.424.425l1.003.999a.3.3 0 0 0 .424-.001l1.997-2a.3.3 0 0 0 0-.424Z",fill:"#379E0E",fillRule:"nonzero"}));var h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00IDBhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04Wm0xLjcxMiAyLjc4OGEuMy4zIDAgMCAwLS40MjQgMEwzLjUwMiA0LjU3NmwtLjc5LS43ODdhLjMuMyAwIDAgMC0uNDI0LjQyNWwxLjAwMy45OTlhLjMuMyAwIDAgMCAuNDI0LS4wMDFsMS45OTctMmEuMy4zIDAgMCAwIDAtLjQyNFoiIGZpbGw9IiMzNzlFMEUiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==",b=Object.defineProperty,A=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,me=(j,f,r)=>f in j?b(j,f,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[f]=r,Y=(j,f)=>{for(var r in f||(f={}))S.call(f,r)&&me(j,r,f[r]);if(A)for(var r of A(f))Q.call(f,r)&&me(j,r,f[r]);return j};const Ne=j=>React.createElement("svg",Y({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u5F85\u64CD\u4F5C"),React.createElement("g",{fillRule:"nonzero",fill:"none"},React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z",fill:"#FFB310"}),React.createElement("path",{d:"M3.775 2.412a.287.287 0 1 0-.573 0v1.71c0 .316.257.573.573.573h1.718a.287.287 0 1 0 0-.573H3.775v-1.71Z",fill:"#FFF1D4"})));var Ge="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTQgMGE0IDQgMCAxIDEgMCA4IDQgNCAwIDAgMSAwLThaIiBmaWxsPSIjRkZCMzEwIi8+PHBhdGggZD0iTTMuNzc1IDIuNDEyYS4yODcuMjg3IDAgMSAwLS41NzMgMHYxLjcxYzAgLjMxNi4yNTcuNTczLjU3My41NzNoMS43MThhLjI4Ny4yODcgMCAxIDAgMC0uNTczSDMuNzc1di0xLjcxWiIgZmlsbD0iI0ZGRjFENCIvPjwvZz48L3N2Zz4=",J=t(66309),Me=t(53846),ye=t(86074),Qe=function(j){var f=j.state,r=(0,ye.jsx)(J.Z,{children:f||"-"});return["success","valid"].includes(f)?r=(0,ye.jsxs)(J.Z,{className:Me.Z.validTag,children:[(0,ye.jsx)("img",{src:h,alt:"VALID_ICON",className:Me.Z.imgResult}),"Valid"]}):["error","invalid","failed"].includes(f)?r=(0,ye.jsxs)(J.Z,{className:Me.Z.invalidTag,children:[(0,ye.jsx)("img",{src:d,alt:"VALID_ICON",className:Me.Z.imgResult}),"Invalid"]}):["waiting","wait"].includes(f)&&(r=(0,ye.jsxs)(J.Z,{className:Me.Z.waitingTag,children:[(0,ye.jsx)("img",{src:Ge,alt:"WAITING_ICON",className:Me.Z.imgProcess}),"Waiting"]})),r}},24163:function(ce,P,t){"use strict";var v=t(97857),c=t.n(v),L=t(25593),x=t(83062),_=t(62435),o=t(86074),ae=L.Z.Paragraph;P.Z=function(i){var d=i.text,w=i.width,Z=i.maxWidth,H=i.rows,V=H===void 0?2:H,p=i.placement,G=p===void 0?"top":p,T=i.color,h=T===void 0?"rgba(0, 0, 0, 0.88)":T,b=i.link,A=b===void 0?!1:b,S=i.onClickCallBackFunc,Q=i.style,me=Q===void 0?{}:Q,Y=i.copyable,Ne=Y===void 0?!1:Y;return(0,o.jsx)("div",{style:{maxWidth:Z,width:w},children:(0,o.jsx)(x.Z,{title:(0,o.jsx)("div",{children:d}),placement:G,children:(0,o.jsx)(ae,{ellipsis:{rows:V},style:c()({marginBottom:0,color:h,cursor:A?"pointer":""},me),onClick:S,copyable:Ne,children:d})})})}},52078:function(ce,P,t){"use strict";var v=t(97857),c=t.n(v),L=t(27997),x=t(62435),_=t(86074),o=function(i){L.Mj.register({id:"json"});var d=i.value,w=i.onChange,Z=i.editorStyle,H=Z===void 0?{}:Z,V=i.editorKey,p=i.readOnly,G=p===void 0?!1:p,T=(0,x.useRef)(),h=(0,x.useRef)();return(0,x.useEffect)(function(){if(T.current)return h.current?h.current.setValue(d):(h.current=L.j6.create(T.current,{value:d,language:"json",theme:"vs",readOnly:G,folding:!0,automaticLayout:!0}),h.current.onDidChangeModelContent(function(){w==null||w(h.current.getValue())})),function(){if(h!=null&&h.current){var b;h==null||(b=h.current)===null||b===void 0||b.dispose(),h.current=null}}},[]),(0,x.useEffect)(function(){h.current&&d!==h.current.getValue()&&h.current.setValue(d)},[d]),(0,_.jsx)("div",{ref:T,style:c()({height:360,borderRadius:4,overflow:"hidden"},H)},V)};P.Z=o},29297:function(ce,P,t){"use strict";t.d(P,{q9:function(){return v.Z},Wy:function(){return i},mi:function(){return H}});var v=t(52078),c=t(97857),L=t.n(c),x=t(55171),_=t.n(x),o=t(86074),ae=function(p){var G=p.value,T=p.viewerStyle,h=T===void 0?{}:T,b=p.displayDataTypes,A=b===void 0?!1:b,S=p.name,Q=S===void 0?"output json":S;return(0,o.jsx)(_(),{src:G,name:Q,collapsed:!1,displayDataTypes:A,style:L()({height:360,padding:12,overflow:"scroll",borderRadius:4,background:"#FFF"},h)})},i=ae,d=t(27997),w=t(62435),Z=function(p){d.Mj.register({id:"rego"});var G=p.value,T=p.onChange,h=p.editorStyle,b=h===void 0?{}:h,A=p.editorKey,S=p.readOnly,Q=S===void 0?!1:S,me=(0,w.useRef)(),Y=(0,w.useRef)();return(0,w.useEffect)(function(){if(me.current)return Y.current||(Y.current=d.j6.create(me.current,{value:G,language:"rego",theme:"vs",readOnly:Q,automaticLayout:!0}),Y.current.onDidChangeModelContent(function(){T==null||T(Y.current.getValue())})),function(){if(Y.current){var Ne;(Ne=Y.current)===null||Ne===void 0||Ne.dispose(),Y.current=null}}},[]),(0,o.jsx)("div",{ref:me,style:L()({width:"100%",height:760,borderRadius:4,overflow:"hidden"},b)},A)},H=Z},38575:function(ce,P,t){"use strict";t.r(P),t.d(P,{default:function(){return Nr}});var v=t(15009),c=t.n(v),L=t(99289),x=t.n(L),_=t(97857),o=t.n(_),ae=t(5574),i=t.n(ae),d=t(62435),w=Object.defineProperty,Z=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,p=(E,u,y)=>u in E?w(E,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):E[u]=y,G=(E,u)=>{for(var y in u||(u={}))H.call(u,y)&&p(E,y,u[y]);if(Z)for(var y of Z(u))V.call(u,y)&&p(E,y,u[y]);return E};const T=E=>React.createElement("svg",G({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},E),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("g",{fill:"#457AFF",fillRule:"nonzero"},React.createElement("path",{d:"M7.445 11.998H1.983C.89 11.998 0 11.093 0 9.982V2.015C0 .905.89 0 1.983 0h5.129c1.093 0 1.983.904 1.983 2.015v3.943a.5.5 0 0 1-.495.503.5.5 0 0 1-.495-.503V2.015c0-.557-.445-1.008-.993-1.009H1.983c-.548 0-.992.452-.993 1.01v7.966c0 .557.445 1.009.993 1.01h5.462a.5.5 0 0 1 .495.502.5.5 0 0 1-.495.504Z"}),React.createElement("path",{d:"M6.704 3.042H2.391a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h4.313a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503Zm0 1.811H2.391a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h4.313a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503ZM4.543 6.664H2.39a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h2.152a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503ZM7.628 8.84c0 .564.45 1.021 1.006 1.021.555 0 1.005-.457 1.005-1.022 0-.564-.45-1.021-1.005-1.021-.556 0-1.006.457-1.006 1.021Z"}),React.createElement("path",{d:"M9.61 12H7.61c-.497 0-.956-.27-1.205-.707l-1-1.759a1.438 1.438 0 0 1 0-1.414l1-1.758c.25-.437.708-.706 1.205-.707H9.61c.497 0 .956.27 1.205.707l1 1.758c.247.437.247.976 0 1.414l-1 1.76c-.25.436-.708.705-1.205.706ZM7.61 6.661a.402.402 0 0 0-.347.205l-1 1.757a.415.415 0 0 0 0 .408l1 1.759a.402.402 0 0 0 .347.204H9.61a.401.401 0 0 0 .347-.204l1-1.759a.415.415 0 0 0 0-.408l-1-1.757a.401.401 0 0 0-.347-.204L7.61 6.66Z"})));var h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ1N0FGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNNy40NDUgMTEuOTk4SDEuOTgzQy44OSAxMS45OTggMCAxMS4wOTMgMCA5Ljk4MlYyLjAxNUMwIC45MDUuODkgMCAxLjk4MyAwaDUuMTI5YzEuMDkzIDAgMS45ODMuOTA0IDEuOTgzIDIuMDE1djMuOTQzYS41LjUgMCAwIDEtLjQ5NS41MDMuNS41IDAgMCAxLS40OTUtLjUwM1YyLjAxNWMwLS41NTctLjQ0NS0xLjAwOC0uOTkzLTEuMDA5SDEuOTgzYy0uNTQ4IDAtLjk5Mi40NTItLjk5MyAxLjAxdjcuOTY2YzAgLjU1Ny40NDUgMS4wMDkuOTkzIDEuMDFoNS40NjJhLjUuNSAwIDAgMSAuNDk1LjUwMi41LjUgMCAwIDEtLjQ5NS41MDRaIi8+PHBhdGggZD0iTTYuNzA0IDMuMDQySDIuMzkxYS41LjUgMCAwIDEtLjQ5NS0uNTAzLjUuNSAwIDAgMSAuNDk1LS41MDNoNC4zMTNhLjUuNSAwIDAgMSAuNDk1LjUwMy41LjUgMCAwIDEtLjQ5NS41MDNabTAgMS44MTFIMi4zOTFhLjUuNSAwIDAgMS0uNDk1LS41MDMuNS41IDAgMCAxIC40OTUtLjUwM2g0LjMxM2EuNS41IDAgMCAxIC40OTUuNTAzLjUuNSAwIDAgMS0uNDk1LjUwM1pNNC41NDMgNi42NjRIMi4zOWEuNS41IDAgMCAxLS40OTUtLjUwMy41LjUgMCAwIDEgLjQ5NS0uNTAzaDIuMTUyYS41LjUgMCAwIDEgLjQ5NS41MDMuNS41IDAgMCAxLS40OTUuNTAzWk03LjYyOCA4Ljg0YzAgLjU2NC40NSAxLjAyMSAxLjAwNiAxLjAyMS41NTUgMCAxLjAwNS0uNDU3IDEuMDA1LTEuMDIyIDAtLjU2NC0uNDUtMS4wMjEtMS4wMDUtMS4wMjEtLjU1NiAwLTEuMDA2LjQ1Ny0xLjAwNiAxLjAyMVoiLz48cGF0aCBkPSJNOS42MSAxMkg3LjYxYy0uNDk3IDAtLjk1Ni0uMjctMS4yMDUtLjcwN2wtMS0xLjc1OWExLjQzOCAxLjQzOCAwIDAgMSAwLTEuNDE0bDEtMS43NThjLjI1LS40MzcuNzA4LS43MDYgMS4yMDUtLjcwN0g5LjYxYy40OTcgMCAuOTU2LjI3IDEuMjA1LjcwN2wxIDEuNzU4Yy4yNDcuNDM3LjI0Ny45NzYgMCAxLjQxNGwtMSAxLjc2Yy0uMjUuNDM2LS43MDguNzA1LTEuMjA1LjcwNlpNNy42MSA2LjY2MWEuNDAyLjQwMiAwIDAgMC0uMzQ3LjIwNWwtMSAxLjc1N2EuNDE1LjQxNSAwIDAgMCAwIC40MDhsMSAxLjc1OWEuNDAyLjQwMiAwIDAgMCAuMzQ3LjIwNEg5LjYxYS40MDEuNDAxIDAgMCAwIC4zNDctLjIwNGwxLTEuNzU5YS40MTUuNDE1IDAgMCAwIDAtLjQwOGwtMS0xLjc1N2EuNDAxLjQwMSAwIDAgMC0uMzQ3LS4yMDRMNy42MSA2LjY2WiIvPjwvZz48L3N2Zz4=",b=Object.defineProperty,A=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,me=(E,u,y)=>u in E?b(E,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):E[u]=y,Y=(E,u)=>{for(var y in u||(u={}))S.call(u,y)&&me(E,y,u[y]);if(A)for(var y of A(u))Q.call(u,y)&&me(E,y,u[y]);return E};const Ne=E=>React.createElement("svg",Y({width:12,height:14,xmlns:"http://www.w3.org/2000/svg"},E),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("g",{fill:"#FFF",fillRule:"evenodd"},React.createElement("path",{d:"M7.545 0a2.56 2.56 0 0 1 2.56 2.56l.001 4.122a4.072 4.072 0 0 0-3.15-.003A4.143 4.143 0 0 0 4.5 11.307a4.136 4.136 0 0 0 1.064 2.056H2.56A2.56 2.56 0 0 1 0 10.804V2.56A2.56 2.56 0 0 1 2.56 0h4.985ZM6.511 3.127 5.794 4.61 4.36 3.868a.455.455 0 0 0-.62.214L2.818 5.99a.491.491 0 0 0 .02.464c.084.141.233.227.393.227a.46.46 0 0 0 .413-.264l.717-1.482 1.433.74a.455.455 0 0 0 .62-.213l.922-1.909a.485.485 0 0 0-.208-.636.454.454 0 0 0-.617.21Z"}),React.createElement("path",{d:"M11.415 8.556a3.52 3.52 0 0 1-.432 4.419A3.438 3.438 0 0 1 8.527 14a3.48 3.48 0 0 1-3.407-2.817 3.505 3.505 0 0 1 2.077-3.916 3.459 3.459 0 0 1 4.218 1.289Zm-3.502.691a.25.25 0 0 0-.13.22v2.066a.247.247 0 0 0 .386.208l1.536-1.033a.25.25 0 0 0 0-.416L8.168 9.26a.247.247 0 0 0-.255-.012Z",fillRule:"nonzero"})));var Ge="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNy41NDUgMGEyLjU2IDIuNTYgMCAwIDEgMi41NiAyLjU2bC4wMDEgNC4xMjJhNC4wNzIgNC4wNzIgMCAwIDAtMy4xNS0uMDAzQTQuMTQzIDQuMTQzIDAgMCAwIDQuNSAxMS4zMDdhNC4xMzYgNC4xMzYgMCAwIDAgMS4wNjQgMi4wNTZIMi41NkEyLjU2IDIuNTYgMCAwIDEgMCAxMC44MDRWMi41NkEyLjU2IDIuNTYgMCAwIDEgMi41NiAwaDQuOTg1Wk02LjUxMSAzLjEyNyA1Ljc5NCA0LjYxIDQuMzYgMy44NjhhLjQ1NS40NTUgMCAwIDAtLjYyLjIxNEwyLjgxOCA1Ljk5YS40OTEuNDkxIDAgMCAwIC4wMi40NjRjLjA4NC4xNDEuMjMzLjIyNy4zOTMuMjI3YS40Ni40NiAwIDAgMCAuNDEzLS4yNjRsLjcxNy0xLjQ4MiAxLjQzMy43NGEuNDU1LjQ1NSAwIDAgMCAuNjItLjIxM2wuOTIyLTEuOTA5YS40ODUuNDg1IDAgMCAwLS4yMDgtLjYzNi40NTQuNDU0IDAgMCAwLS42MTcuMjFaIi8+PHBhdGggZD0iTTExLjQxNSA4LjU1NmEzLjUyIDMuNTIgMCAwIDEtLjQzMiA0LjQxOUEzLjQzOCAzLjQzOCAwIDAgMSA4LjUyNyAxNGEzLjQ4IDMuNDggMCAwIDEtMy40MDctMi44MTcgMy41MDUgMy41MDUgMCAwIDEgMi4wNzctMy45MTYgMy40NTkgMy40NTkgMCAwIDEgNC4yMTggMS4yODlabS0zLjUwMi42OTFhLjI1LjI1IDAgMCAwLS4xMy4yMnYyLjA2NmEuMjQ3LjI0NyAwIDAgMCAuMzg2LjIwOGwxLjUzNi0xLjAzM2EuMjUuMjUgMCAwIDAgMC0uNDE2TDguMTY4IDkuMjZhLjI0Ny4yNDcgMCAwIDAtLjI1NS0uMDEyWiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg==",J=Object.defineProperty,Me=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,j=(E,u,y)=>u in E?J(E,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):E[u]=y,f=(E,u)=>{for(var y in u||(u={}))ye.call(u,y)&&j(E,y,u[y]);if(Me)for(var y of Me(u))Qe.call(u,y)&&j(E,y,u[y]);return E};const r=E=>React.createElement("svg",f({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},E),React.createElement("title",null,"\u5173\u8054"),React.createElement("g",{fill:"#457AFF",fillRule:"nonzero"},React.createElement("path",{d:"M8.25 7.507V5.953a.477.477 0 1 0-.956 0v1.341H.956V.956h6.338v1.31a.477.477 0 1 0 .956 0V.744A.744.744 0 0 0 7.507 0H.743A.744.744 0 0 0 0 .743v6.764c0 .41.333.743.743.743h6.764c.41 0 .743-.333.743-.743Z"}),React.createElement("path",{d:"M11.257 3.75H4.493a.744.744 0 0 0-.743.743V6.06a.478.478 0 1 0 .956 0V4.706h6.338v6.34H4.706V9.68a.478.478 0 1 0-.956 0v1.576c0 .41.333.743.743.743h6.764c.41 0 .743-.333.743-.743V4.493a.744.744 0 0 0-.743-.743Z"})));var N="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ1N0FGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOC4yNSA3LjUwN1Y1Ljk1M2EuNDc3LjQ3NyAwIDEgMC0uOTU2IDB2MS4zNDFILjk1NlYuOTU2aDYuMzM4djEuMzFhLjQ3Ny40NzcgMCAxIDAgLjk1NiAwVi43NDRBLjc0NC43NDQgMCAwIDAgNy41MDcgMEguNzQzQS43NDQuNzQ0IDAgMCAwIDAgLjc0M3Y2Ljc2NGMwIC40MS4zMzMuNzQzLjc0My43NDNoNi43NjRjLjQxIDAgLjc0My0uMzMzLjc0My0uNzQzWiIvPjxwYXRoIGQ9Ik0xMS4yNTcgMy43NUg0LjQ5M2EuNzQ0Ljc0NCAwIDAgMC0uNzQzLjc0M1Y2LjA2YS40NzguNDc4IDAgMSAwIC45NTYgMFY0LjcwNmg2LjMzOHY2LjM0SDQuNzA2VjkuNjhhLjQ3OC40NzggMCAxIDAtLjk1NiAwdjEuNTc2YzAgLjQxLjMzMy43NDMuNzQzLjc0M2g2Ljc2NGMuNDEgMCAuNzQzLS4zMzMuNzQzLS43NDNWNC40OTNhLjc0NC43NDQgMCAwIDAtLjc0My0uNzQzWiIvPjwvZz48L3N2Zz4=",z=t(91618),g=t(24163),I=t(29297),xe=t(13769),ge=t.n(xe),ne=t(58638),B=t(97269),$=t(93410),se=t(50727),D=t(92016),ve=t(3303),F=t(85265),U=t(86250),O=t(83622),Pe=t(42075),ee=t(96486),e=t(86074),ft=["idx","map_row_parentKey"],pt=ve.Z.SHOW_CHILD,nt=[{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.only.associate.once"}),value:"\u4EC5\u5173\u8054\u4E00\u6B21"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.related.multiple.times"}),value:"\u5173\u8054\u591A\u6B21"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.no.associated.fields"}),value:"\u65E0\u5173\u8054\u5B57\u6BB5"}],It=function(u){var y=u.linkDrawerVisible,He=u.setLinkDrawerVisible,Fe=u.linkFormRef,it=u.resourceTypeList,Xe=u.form,qe=u.formData,Ce=u.setFormData,le=(0,D.useIntl)(),Ie=(0,d.useRef)(),$e=(0,d.useState)([]),be=i()($e,2),et=be[0],Ke=be[1],ut=(0,d.useRef)(),ue=function(){var te;(te=Fe.current)===null||te===void 0||te.resetFields()},n=function(){He(!1)},dt=function(te){var X=(0,ee.cloneDeep)(te)||{},q=X.linkedDataList;if(Array.isArray(q)&&!(0,ee.isEmpty)(q)){var fe=q.map(function(Ee){var Ze=Ee.idx,Oe=Ee.map_row_parentKey,ct=ge()(Ee,ft);return o()({},ct)});X.linkedDataList=fe}return X},Ye=function(te){var X=(0,ee.cloneDeep)(te)||{},q=X,fe=[];if(Array.isArray(q)&&!(0,ee.isEmpty)(q)){var Ee=q==null?void 0:q.map(function(Ze,Oe){return fe.push(Oe),o()(o()({},Ze),{},{idx:Oe})});X.linkedDataList=Ee}return X.editableKeyList=fe,X},Se=function(){var oe=x()(c()().mark(function te(){var X;return c()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:(X=Fe.current)===null||X===void 0||X.validateFields().then(function(Ee){var Ze,Oe=((Ze=dt(Ee))===null||Ze===void 0?void 0:Ze.linkedDataList)||[];Xe.setFieldValue("linkedDataList",Oe),Ce(o()(o()({},qe),{},{linkedDataList:Oe})),n()});case 1:case"end":return fe.stop()}},te)}));return function(){return oe.apply(this,arguments)}}();(0,d.useEffect)(function(){if(y){var oe=Xe.getFieldValue("linkedDataList"),te=Ye(oe),X=te.linkedDataList,q=te.editableKeyList;if(!(0,ee.isEmpty)(X)&&!(0,ee.isEmpty)(q)){var fe;(fe=Fe.current)===null||fe===void 0||fe.setFieldsValue({linkedDataList:X}),Ke(q)}}else ue()},[y]);var tt=[{title:le.formatMessage({id:"involve.extend.title.serial.number"}),dataIndex:"id",editable:!1,width:60,align:"center",render:function(te,X,q){return q+1}},{title:le.formatMessage({id:"rule.module.text.associative.mode"}),width:200,dataIndex:"associativeMode",formItemProps:{rules:[{required:!1}]},valueType:"select",fieldProps:{options:nt,multiple:!1,allowClear:!0,showSearch:!0}},{title:le.formatMessage({id:"rule.module.text.main.asset.associated.fields"}),dataIndex:"linkedKey1",formItemProps:{rules:[{required:!1}]}},{title:le.formatMessage({id:"rule.module.text.related.asset.type"}),width:200,dataIndex:"resourceType",formItemProps:{rules:[{required:!0}]},valueType:"cascader",fieldProps:{options:it,multiple:!1,allowClear:!0,showSearch:!0,showCheckedStrategy:pt}},{title:le.formatMessage({id:"rule.module.text.associated.assets.associated.fields"}),dataIndex:"linkedKey2",formItemProps:{rules:[{required:!1}]}},{title:le.formatMessage({id:"rule.module.text.mount.field.name"}),dataIndex:"newKeyName",formItemProps:{rules:[{required:!0}]}},{title:le.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),valueType:"option",width:140,render:function(){return[]}}];return(0,e.jsx)(F.Z,{title:(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)("span",{style:{marginRight:4},children:le.formatMessage({id:"rule.module.text.related.assets"})}),(0,e.jsxs)(O.ZP,{size:"small",type:"link",href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/apka69usk9a3gf1s#jLQrz",target:"_blank",style:{color:"#2f54eb",gap:4},children:[(0,e.jsx)(ne.Z,{}),(0,e.jsx)("span",{children:le.formatMessage({id:"common.link.text.help.center"})})]})]}),onClose:n,destroyOnClose:!0,open:y,width:"80%",footer:(0,e.jsx)(U.Z,{justify:"flex-end",children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsx)(O.ZP,{onClick:function(){return n()},children:le.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(O.ZP,{type:"primary",onClick:function(){return Se()},children:le.formatMessage({id:"common.button.text.ok"})})]})}),children:(0,e.jsx)(B.A,{formRef:Fe,layout:"horizontal",submitter:!1,children:(0,e.jsx)($.Z,{bodyStyle:{backgroundColor:"rgb(245, 245, 245)",padding:"0 20px 16px 20px"},children:(0,e.jsx)(se.Z,{rowKey:"idx",name:"linkedDataList",actionRef:Ie,editableFormRef:ut,headerTitle:(0,e.jsx)("div",{style:{fontSize:14},children:le.formatMessage({id:"involve.extend.title.conditional.config"})}),recordCreatorProps:{creatorButtonText:le.formatMessage({id:"involve.extend.title.addRowConfig"}),record:function(){return{idx:(Math.random()*1e6).toFixed(0)}}},columns:tt,editable:{type:"multiple",editableKeys:et,onChange:Ke,actionRender:function(te,X,q){return[q.delete]}}})})})})},je=It,Lt=t(94032),ke=t(96655),At=t(61713),St=t(70989),st=t(68872),Et=function(u){var y=u.variableDrawerVisible,He=u.setVariableDrawerVisible,Fe=u.variableDrawerInfo,it=Fe===void 0?{}:Fe,Xe=u.requestRuleDetailById,qe=u.selectedRowKeys,Ce=qe===void 0?[]:qe,le=u.setSelectedRowKeys,Ie=u.formData,$e=u.setCurrent,be=it.id,et=st.ZP.useMessage(),Ke=i()(et,2),ut=Ke[0],ue=Ke[1],n=(0,D.useIntl)(),dt=(0,d.useState)(!1),Ye=i()(dt,2),Se=Ye[0],tt=Ye[1],oe=function(){He(!1),le((Ie==null?void 0:Ie.globalVariableConfigIdList)||[])},te=function(){oe()},X=function(){var de=x()(c()().mark(function k(){var K,pe;return c()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!be){ie.next=15;break}return tt(!0),K={id:be,globalVariableConfigIdList:Ce,resourceType:Ie==null?void 0:Ie.resourceType,ruleTypeIdList:Ie.ruleTypeIdList},ie.next=5,(0,ke.saveRule)(K);case 5:if(pe=ie.sent,tt(!1),!(pe.msg==="success"||[200].includes(pe.code))){ie.next=13;break}return ut.success(n.formatMessage({id:"common.message.text.batch.add.success"})),ie.next=11,Xe(be);case 11:$e(1),He(!1);case 13:ie.next=16;break;case 15:He(!1);case 16:case"end":return ie.stop()}},k)}));return function(){return de.apply(this,arguments)}}(),q=function(){var de=x()(c()().mark(function k(){return c()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:oe();case 1:case"end":return pe.stop()}},k)}));return function(){return de.apply(this,arguments)}}(),fe=(0,d.useRef)(),Ee=[{title:n.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(k,K){return(0,e.jsxs)("div",{children:[(0,e.jsx)("section",{children:(K==null?void 0:K.gmtCreate)||"-"}),(0,e.jsx)("section",{children:(K==null?void 0:K.gmtModified)||"-"})]})}},{title:n.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"left",width:200,hideInSearch:!0},{title:n.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"name",valueType:"text",align:"left",width:150},{title:n.formatMessage({id:"rule.module.text.variable.path"}),dataIndex:"path",valueType:"text",align:"center"},{title:n.formatMessage({id:"rule.module.text.reference.rules"}),dataIndex:"ruleNameList",key:"ruleNameList",hideInSearch:!0,render:function(k,K){var pe;return(0,e.jsx)("ul",{style:{paddingInlineStart:16},children:K==null||(pe=K.ruleNameList)===null||pe===void 0?void 0:pe.map(function(We,ie){return(0,e.jsx)("li",{children:We},ie)})})}}],Ze=function(){var de=x()(c()().mark(function k(K){var pe,We,ie,mt,yt,rt,Le,gt;return c()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return pe=K.name,We=K.path,ie=K.current,mt=K.pageSize,yt={name:pe,path:We,page:ie,size:mt},Ue.next=4,(0,At.listGlobalVariableConfig)(yt);case 4:return rt=Ue.sent,Le=rt.content,gt=rt.code,Ue.abrupt("return",{data:(Le==null?void 0:Le.data)||[],total:(Le==null?void 0:Le.total)||0,success:gt===200||!1});case 8:case"end":return Ue.stop()}},k)}));return function(K){return de.apply(this,arguments)}}(),Oe=function(k){le(k)},ct={selectedRowKeys:Ce,onChange:Oe,preserveSelectedRowKeys:!0};return(0,e.jsxs)(F.Z,{footer:(0,e.jsx)(U.Z,{style:{width:"100%"},justify:"end",children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsx)(O.ZP,{type:"dashed",onClick:function(){return q()},children:n.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(O.ZP,{loading:Se,type:"primary",onClick:function(){return X()},children:n.formatMessage({id:"common.button.text.save"})})]})}),title:n.formatMessage({id:"rule.extend.text.variable.information"}),width:"64%",destroyOnClose:!0,open:y,onClose:te,styles:{body:{padding:8}},children:[ue,(0,e.jsx)(St.Z,{scroll:{x:!0},options:!1,rowKey:"id",columns:Ee,actionRef:fe,request:Ze,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},search:{labelWidth:n.locale==="en-US"?110:80},rowSelection:ct,expandable:{expandRowByClick:!0,expandedRowRender:function(k){return(0,e.jsx)($.Z,{direction:"column",gutter:[0,16],children:!(0,ee.isEmpty)(k==null?void 0:k.data)&&(0,e.jsxs)($.Z,{ghost:!0,children:[(0,e.jsx)("p",{children:n.formatMessage({id:"rule.module.text.variable.value"})}),(0,e.jsx)(I.mi,{readOnly:!0,editorKey:"dataEditor",value:k==null?void 0:k.data,editorStyle:{height:"280px",maxHeight:"280px"}})]})})},rowExpandable:function(k){return!(0,ee.isEmpty)(k==null?void 0:k.data)}}})]})},Nt=Et,ht=`package example

import rego.v1

# Use [input] to get the value from the input data, such as "input.object.field1".

# Use [risk] flag to determine whether it is a risk, When [risk] is true, it is judged as a risk.

default risk = false

# When a user requests a private resource using GET, it is considered a risk.

risk if {
    input.method == "GET"
    input.path == "/private/resource"
}

# When an admin uses GET to request access, it is considered a risk.

risk if {
    input.method == "GET"
    input.path == "/admin/resource"
    input.user.role == "admin"
}

### For more details please see: https://www.openpolicyagent.org/docs/latest/#example`,wt="\u5B9E\u4F8B\uFF1A{$.ResourceId} \uFF0C\u540D\u79F0\uFF1A{$.ResourceName} \u5B58\u5728xxx\u98CE\u9669\u3002",xt=t(92635),Be=t(10736),Tt=t(79930),_e=t(17910),De=t(29448),lt=t(70607),Mr=t(82826),yr=t(39380),bt=t(97462),jr=t(86615),Ft=t(90672),Dr=t(5966),Cr=t(25593),Ae=t(23323),Ir=t(17788),Ut=t(55241),kt=t(38703),ot=t(71230),ze=t(15746),Lr=t(42119),Ar=t(78045),Bt=t(25278),Mt=t(34041),Sr=t(83062),Ot=t(85137),we=t(61194),Rt=Cr.Z.Title,Wt=ve.Z.SHOW_CHILD,Te=[{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.example.data"}),value:"INPUT"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.appoint.tenant"}),value:"TENANT"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.appoint.cloud.platform"}),value:"CLOUD_ACCOUNT"}],Vt=0,Er=function(){var u,y=(0,D.useModel)("tenant"),He=y.tenantListAdded,Fe=(0,D.useLocation)(),it=new URLSearchParams(Fe.search),Xe=(0,d.useState)(it.get("id")),qe=i()(Xe,1),Ce=qe[0],le=(0,lt.a)({}),Ie=(0,D.useModel)("rule"),$e=Ie.platformList,be=Ie.ruleGroupList,et=Ie.ruleTypeList,Ke=Ae.Z.useForm(),ut=i()(Ke,1),ue=ut[0],n=(0,D.useIntl)(),dt=st.ZP.useMessage(),Ye=i()(dt,2),Se=Ye[0],tt=Ye[1],oe=Ir.Z.useModal(),te=i()(oe,2),X=te[0],q=te[1],fe=(0,d.useState)(!1),Ee=i()(fe,2),Ze=Ee[0],Oe=Ee[1],ct=(0,d.useState)({}),de=i()(ct,2),k=de[0],K=de[1],pe=(0,d.useState)([]),We=i()(pe,2),ie=We[0],mt=We[1],yt=(0,d.useState)(ht),rt=i()(yt,2),Le=rt[0],gt=rt[1],Gt=(0,d.useState)(""),Ue=i()(Gt,2),Qt=Ue[0],Ht=Ue[1],wr=(0,d.useState)({}),$t=i()(wr,2),Tr=$t[0],Pt=$t[1],br=(0,d.useState)(!1),Kt=i()(br,2),Or=Kt[0],Yt=Kt[1],Jt=(0,d.useRef)({}),Rr=(0,d.useState)(!1),Xt=i()(Rr,2),Pr=Xt[0],qt=Xt[1],er=(0,d.useRef)({}),_r=(0,d.useState)([]),tr=i()(_r,2),_t=tr[0],rr=tr[1],Zr=(0,d.useState)({}),ar=i()(Zr,2),W=ar[0],jt=ar[1],Ve=(0,d.useRef)("waiting"),zr=(0,d.useState)(!1),nr=i()(zr,2),Fr=nr[0],sr=nr[1],Ur=(0,d.useState)(!1),lr=i()(Ur,2),kr=lr[0],or=lr[1],Br=(0,d.useRef)(),Wr=(0,d.useState)(Vt),ir=i()(Wr,2),Vr=ir[0],ur=ir[1],at=(0,d.useRef)(null),Gr=(0,d.useState)(!1),dr=i()(Gr,2),Qr=dr[0],cr=dr[1],Hr=function(){Jt.current={ruleId:Ce},Yt(!0)},$r=function(){er.current=o()({},k),qt(!0)},Kr=function(a){gt(a),Ve.current="",Je(W)},Yr=function(a){Ht(a)},Jr=(0,D.useRequest)(function(m){return(0,Tt.queryGroupTypeList)({platformList:[m]})},{manual:!0,formatResult:function(a){var s=a.content;return mt(s||[]),s}}),mr=Jr.run,gr=(0,D.useRequest)(function(m){return(0,ke.queryResourceExampleData)(m)},{formatResult:function(a){if(a.msg==="success"){var s=a.content;try{Ht(JSON.stringify(s,null,4)||"")}catch(M){console.info("Error",M)}}},manual:!0}),Xr=gr.run,qr=gr.loading,ea=(0,d.useState)([{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.basic.info"}),description:(0,e.jsx)(e.Fragment,{})},{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.rule.development"}),description:(0,e.jsx)(e.Fragment,{})},{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.repair.suggestions.title"}),description:(0,e.jsx)(e.Fragment,{})}]),vr=i()(ea,2),Dt=vr[0],ta=vr[1],ra=(0,d.useState)(0),fr=i()(ra,2),he=fr[0],Ct=fr[1],Je=function(a,s){var M=Dt.map(function(l,C){if(C===0){var re;return o()(o()({},l),{},{description:(0,e.jsx)(Ut.Z,{content:(0,e.jsxs)("div",{style:{padding:"2px 6px"},children:[(0,e.jsxs)(U.Z,{style:{marginBottom:7},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"common.select.label.cloudPlatform"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.fD)(a==null?void 0:a.platform,$e)})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"cloudAccount.extend.title.asset.type"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.xF)(s||ie,a==null?void 0:a.resourceType)||"-"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.ruleName"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.ruleName)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.rule.describe"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.ruleDesc)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"layout.routes.title.ruleGroup"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(be==null||(re=be.filter(function(R){var vt;return a==null||(vt=a.ruleGroupIdList)===null||vt===void 0?void 0:vt.includes(R==null?void 0:R.value)}).map(function(R){return R==null?void 0:R.label}))===null||re===void 0?void 0:re.toString())||"-",maxWidth:100,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(0,De.S1)(et,a==null?void 0:a.ruleTypeIdList)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{marginTop:7},align:"center",children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.riskLevel"}),"\xA0:\xA0"]}),(0,De.Uf)(_e.I9,a.riskLevel)]})]}),children:(0,e.jsxs)(U.Z,{style:{margin:"6px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"common.table.columns.platform"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.fD)(a==null?void 0:a.platform,$e)})]})})})}else return C===1?o()(o()({},l),{},{description:(0,e.jsx)("div",{children:Ve.current&&(0,e.jsxs)(U.Z,{style:{marginTop:6},align:"center",children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.running.results"}),"\xA0:\xA0"]}),(0,e.jsx)(z.Z,{state:Ve.current})]})})}):C===2?o()(o()({},l),{},{description:(0,e.jsx)(Ut.Z,{placement:"bottom",content:(0,e.jsxs)("div",{style:{padding:"2px 6px"},children:[(0,e.jsxs)(U.Z,{style:{marginBottom:7},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.repair.suggestions"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.advice)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.reference.link"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.link)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.risk.context.template"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.context)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]})]}),children:(0,e.jsxs)(U.Z,{style:{margin:"6px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.repair.suggestions"}),"\xA0:\xA0"]}),(0,e.jsx)(g.Z,{text:(a==null?void 0:a.advice)||"-",maxWidth:180,rows:1,color:he===2?"rgba(0, 0, 0, 0.88)":"rgba(0, 0, 0, 0.45)"})]})})}):o()({},l)});ta(M)},aa=(0,D.useRequest)(function(m){return(0,ke.queryAnalysisProgress)({taskId:m})},{formatResult:function(a){var s,M;if((a==null||(s=a.content)===null||s===void 0?void 0:s.percent)===1){var l;Ve.current="success",Pt(JSON.parse(a==null||(l=a.content)===null||l===void 0?void 0:l.result)||{}),Je(W)}return a==null||(M=a.content)===null||M===void 0?void 0:M.percent},onSuccess:function(a){ur(a)},manual:!0}),na=aa.run,sa=(0,D.useRequest)(function(m){return(0,ke.queryCancelTask)({taskId:m})},{onSuccess:function(){return Se.warning(n.formatMessage({id:"rule.message.text.task.cancelled"}))},manual:!0}),pr=sa.run,la=function(a){var s=X.info({title:n.formatMessage({id:"common.message.text.execute.loading"}),content:(0,e.jsx)(U.Z,{style:{width:"100"},justify:"center",children:(0,e.jsx)(kt.Z,{type:"circle",percent:Number((0,De.x9)(Vr*100,2)),size:80})}),closable:!0,destroyOnClose:!0,footer:(0,e.jsx)(e.Fragment,{}),onCancel:function(){at.current&&clearTimeout(at.current),pr(a)}});at.current=setInterval(x()(c()().mark(function M(){var l,C;return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,na(a);case 2:l=R.sent,s.update({title:n.formatMessage({id:"common.message.text.execute.loading"}),content:(0,e.jsx)(U.Z,{style:{width:"100"},justify:"center",children:(0,e.jsx)(kt.Z,{type:"circle",percent:Number((0,De.x9)(l*100,2)),size:80})}),closable:!0,destroyOnClose:!0,footer:(0,e.jsx)(e.Fragment,{}),onCancel:function(){at.current&&clearTimeout(at.current),pr(a)}}),l===1&&(clearInterval(at.current),C=setTimeout(function(){clearTimeout(C),ur(Vt),s.destroy()},800));case 5:case"end":return R.stop()}},M)})),1e3)},oa=function(){var m=x()(c()().mark(function a(){var s,M,l,C,re,R;return c()().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(s={},M=ue.getFieldValue("type"),M!==Te[0].value){Re.next=9;break}s.ruleRego=Le,s.input=Qt,s.globalVariableConfigIdList=_t,s.linkedDataList=(W==null?void 0:W.linkedDataList)||[],Re.next=22;break;case 9:if(s.type=M,l=ue.getFieldValue("selectId"),s.selectId=l,s.ruleRego=Le,s.platform=ue.getFieldValue("platform"),s.resourceType=(0,De.g2)(ue.getFieldValue("resourceType")),s.linkedDataList=(W==null?void 0:W.linkedDataList)||[],!(M===Te[1].value&&!l)){Re.next=20;break}return Re.abrupt("return",Se.error("\u8BF7\u9009\u62E9".concat(Te[1].label)));case 20:if(!(M===Te[2].value&&!l)){Re.next=22;break}return Re.abrupt("return",Se.error("\u8BF7\u9009\u62E9".concat(Te[2].label)));case 22:return cr(!0),Re.next=25,(0,Be.evaluateRego)(s);case 25:C=Re.sent,cr(!1),M===Te[0].value?C.code===200&&C.msg==="success"?(Se.success(n.formatMessage({id:"common.message.text.execute.success"})),Pt((C==null||(re=C.content)===null||re===void 0?void 0:re.result)||{}),Ve.current="success",Je(W)):(C.code!==200||C.msg!=="success")&&(Pt(C||{}),Ve.current="error",Je(W)):C!=null&&(R=C.content)!==null&&R!==void 0&&R.taskId&&la(C.content.taskId);case 28:case"end":return Re.stop()}},a)}));return function(){return m.apply(this,arguments)}}(),ia=function(a,s){jt(o()(o()({},W),s)),Je(o()(o()({},W),s))},ua=function(){Ct(function(a){return a-1})},da=function(){ue.validateFields().then(function(){var a=x()(c()().mark(function s(M){return c()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(he!==0){C.next=5;break}return C.next=3,Xr({platform:M==null?void 0:M.platform,resourceType:M==null?void 0:M.resourceType,linkedDataList:(M==null?void 0:M.linkedDataList)||[]});case 3:C.next=10;break;case 5:if(he!==1){C.next=10;break}if(!(0,ee.isEmpty)(Le)){C.next=8;break}return C.abrupt("return",Se.error(n.formatMessage({id:"rule.message.text.rego.noEmpty"})));case 8:if(Ve.current==="success"){C.next=10;break}return C.abrupt("return",Se.error(n.formatMessage({id:"rule.message.text.rego.noPass"})));case 10:Ct(function(re){return re+1});case 11:case"end":return C.stop()}},s)}));return function(s){return a.apply(this,arguments)}}())};(0,d.useEffect)(function(){(0,ee.isEmpty)(W)||Je(W)},[he]);var ca=function(){ue.validateFields().then(function(){var a=x()(c()().mark(function s(M){var l,C;return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return Oe(!0),l=o()(o()({},W),{},{ruleRego:Le,globalVariableConfigIdList:_t,context:M==null?void 0:M.context}),Ce&&(l.id=Ce),l==null||delete l.type,l==null||delete l.selectId,l==null||delete l.ruleGroupList,R.next=8,(0,ke.saveRule)(l);case 8:C=R.sent,Oe(!1),(C.msg==="success"||[200].includes(C.code))&&(Ce?Se.success(n.formatMessage({id:"common.message.text.edit.success"})):Se.success(n.formatMessage({id:"common.message.text.create.success"})),D.history.push("/ruleManagement/ruleProject"));case 11:case"end":return R.stop()}},s)}));return function(s){return a.apply(this,arguments)}}())},ma=function(){var m=x()(c()().mark(function a(s){var M,l;return c()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:(0,ee.isEmpty)(s)||(rr((s==null?void 0:s.globalVariableConfigIdList)||[]),Ct(0),Ve.current="success",l=o()(o()({},s),{},{ruleGroupIdList:s==null||(M=s.ruleGroupList)===null||M===void 0?void 0:M.map(function(R){return R==null?void 0:R.id})}),jt(l),ue.setFieldsValue(l),gt((s==null?void 0:s.ruleRego)||""),s!=null&&s.platform&&mr(s==null?void 0:s.platform).then(function(R){Je(l,R)}).finally(function(){return sr(!1)}));case 1:case"end":return re.stop()}},a)}));return function(s){return m.apply(this,arguments)}}(),ga=(0,D.useRequest)(function(){var m=x()(c()().mark(function a(s){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,ke.queryRuleDetail)({id:Number(s)});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},a)}));return function(a){return m.apply(this,arguments)}}(),{formatResult:function(){var m=x()(c()().mark(function s(M){var l;return c()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return l=M.content,K(l),re.next=4,ma(l);case 4:case"end":return re.stop()}},s)}));function a(s){return m.apply(this,arguments)}return a}(),manual:!0}),Zt=ga.run;(0,d.useEffect)(function(){Ce&&(sr(!0),Zt(Ce))},[Ce]);var va=function(){or(!0)},hr=(0,D.useRequest)(function(m){return(0,xt.cloudAccountBaseInfoListV2)(o()({},m))},{manual:!0,formatResult:function(a){return a==null?void 0:a.content}}),zt=hr.data,fa=hr.run,xr=(0,ee.debounce)(function(m){var a=ue.getFieldValue("platform"),s=[];a&&s.push(a),fa({platformList:s,cloudAccountSearch:m})},500);return(0,e.jsxs)(yr._z,{ghost:!0,breadcrumbRender:!1,header:{ghost:!0},title:(0,e.jsxs)(O.ZP,{type:"link",size:"small",onClick:function(){return D.history===null||D.history===void 0?void 0:D.history.back()},children:[(0,e.jsx)(Mr.Z,{}),n.formatMessage({id:"common.button.text.return"})]}),className:he===1?we.Z.ruleEditPageContainerSpecial:we.Z.ruleEditPageContainer,footer:[(0,e.jsxs)(Pe.Z,{style:{paddingRight:8},children:[he>0&&(0,e.jsx)(O.ZP,{type:"primary",onClick:function(){return ua()},children:n.formatMessage({id:"common.button.text.pre"})}),he<Dt.length-1&&(0,e.jsx)(O.ZP,{type:"primary",onClick:function(){return da()},loading:qr,children:n.formatMessage({id:"common.button.text.next"})}),he===Dt.length-1&&(0,e.jsx)(O.ZP,{loading:Ze,type:"primary",onClick:function(){return ca()},children:n.formatMessage({id:"common.button.text.submit"})})]},"buttonList")],loading:Fr,children:[tt,q,(0,e.jsx)(ot.Z,{style:{marginBottom:20,padding:he===1?"0 14px":"unset"},children:(0,e.jsx)(ze.Z,{span:24,style:{minHeight:"100%"},children:(0,e.jsx)($.Z,{className:we.Z.stepListMain,children:(0,e.jsx)(Lr.Z,{size:"small",className:we.Z.stepsWrap,direction:"horizontal",current:he,items:Dt})})})}),(0,e.jsx)(ot.Z,{style:{minHeight:"calc(100vh - 362px)"},children:(0,e.jsx)(ze.Z,{span:24,style:{minHeight:"100%"},children:(0,e.jsx)($.Z,{className:he===1?we.Z.contentMainTransparent:we.Z.contentMain,bodyStyle:{paddingTop:he===1?0:16},children:(0,e.jsxs)(Ae.Z,{form:ue,layout:"vertical",onValuesChange:(0,ee.debounce)(ia,200),children:[he===0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ae.Z.Item,{name:"platform",label:n.formatMessage({id:"home.module.overview.platform"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(Ar.ZP.Group,{disabled:!!Ce,onChange:function(a){ue.setFieldValue("resourceType",null),ue.setFieldValue("linkedDataList",[]),jt(o()(o()({},W),{},{linkedDataList:null})),mt([]),mr(a.target.value)},options:(0,De.T$)($e)})}),(0,e.jsx)(bt.Z,{name:["platform"],children:function(a){var s=a.platform;return(0,ee.isEmpty)(s)?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(Ae.Z.Item,{name:"resourceType",label:n.formatMessage({id:"cloudAccount.extend.title.asset.type"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],style:{marginBottom:0},children:(0,e.jsx)(ve.Z,{options:ie,multiple:!1,placeholder:n.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:Wt,allowClear:!0,showSearch:!0})})}}),(0,e.jsx)(bt.Z,{name:["platform"],children:function(a){var s=a.platform;return(0,ee.isEmpty)(s)?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)(Ae.Z.Item,{layout:"horizontal",name:"linkedDataList",label:"",style:{marginBottom:24},children:[(0,e.jsxs)(O.ZP,{type:"link",size:"small",onClick:function(){return va()},style:{gap:4},children:[(0,e.jsx)("img",{src:N,alt:"RELATION_ICON",style:{width:14,height:14}}),n.formatMessage({id:"rule.module.text.related.assets"})]}),(W==null?void 0:W.linkedDataDesc)&&(0,e.jsx)(Pe.Z,{size:[8,16],wrap:!0,children:(0,e.jsx)("span",{style:{color:"#c5c2c2"},children:W==null?void 0:W.linkedDataDesc})})]})}}),(0,e.jsxs)(ot.Z,{gutter:[24,12],children:[(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleName",label:n.formatMessage({id:"home.module.inform.columns.ruleName"}),rules:[{required:!0}],children:(0,e.jsx)(Bt.Z,{placeholder:n.formatMessage({id:"common.input.text.placeholder"})})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleDesc",label:n.formatMessage({id:"rule.module.text.rule.describe"}),rules:[{required:!0}],children:(0,e.jsx)(Bt.Z,{placeholder:n.formatMessage({id:"common.input.text.placeholder"})})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleGroupIdList",label:n.formatMessage({id:"layout.routes.title.ruleGroup"}),rules:[{required:!1,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(Mt.Z,{options:be||[],placeholder:n.formatMessage({id:"common.select.text.placeholder"}),allowClear:!0,mode:"multiple"})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{label:n.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),name:"ruleTypeIdList",rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(ve.Z,{showCheckedStrategy:Wt,allowClear:!0,showSearch:!0,fieldNames:{label:"typeName",value:"id",children:"childList"},multiple:!0,options:et||[]})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(jr.Z.Group,{name:"riskLevel",label:n.formatMessage({id:"home.module.inform.columns.riskLevel"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],options:(0,De.at)(_e.I9)})})]})]}),he===1&&(0,e.jsxs)("div",{children:[(0,e.jsx)(ot.Z,{children:(0,e.jsx)(U.Z,{justify:"end",style:{width:"100%"},children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsxs)(O.ZP,{href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/un0z2rchy084tnww",target:"_blank",style:{gap:4,border:"1px solid #457aff",color:"#457aff",padding:"4px 10px",backgroundColor:"transparent"},children:[(0,e.jsx)("img",{src:h,style:{height:14},alt:"LINK_ICON"}),n.formatMessage({id:"rule.extend.text.config"})]}),(0,e.jsxs)(O.ZP,{type:"primary",onClick:function(){return oa()},style:{gap:4},loading:Qr,children:[(0,e.jsx)("img",{src:Ge,style:{height:14},alt:"linkIcon"}),n.formatMessage({id:"rule.extend.text.execute"})]})]})})}),(0,e.jsxs)(ot.Z,{gutter:16,style:{marginTop:4},children:[(0,e.jsxs)(ze.Z,{md:14,span:24,children:[(0,e.jsx)(Rt,{level:5,className:we.Z.customTitle,style:{marginBottom:16},children:"The Rego PlayGround"}),(0,e.jsx)(I.mi,{editorKey:"regoEditor",value:Le,onChange:Kr,editorStyle:{height:"680px"}})]}),(0,e.jsxs)(ze.Z,{md:10,span:24,children:[(0,e.jsx)(Rt,{level:5,className:we.Z.customTitle,children:(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)("span",{style:{marginRight:12},children:"INPUT"}),(0,e.jsxs)(Pe.Z.Compact,{children:[(0,e.jsx)(Ae.Z.Item,{name:"type",noStyle:!0,initialValue:Te[0].value,children:(0,e.jsx)(Mt.Z,{options:Te,style:{width:114},onChange:function(a){ue.setFieldValue("selectId",null),a===Te[2].value&&xr()}})}),(0,e.jsx)(bt.Z,{name:["type"],children:function(a){var s=a.type,M=(0,e.jsx)(e.Fragment,{});return s===Te[1].value?M=(0,e.jsx)(Ae.Z.Item,{noStyle:!0,name:"selectId",children:(0,e.jsx)(Mt.Z,{options:He||[],style:{width:160},fieldNames:{label:"tenantName",value:"id"}})}):s===Te[2].value&&(M=(0,e.jsx)(Ae.Z.Item,{name:"selectId",noStyle:!0,children:(0,e.jsx)(Mt.Z,{allowClear:!0,showSearch:!0,filterOption:!1,placeholder:n.formatMessage({id:"common.select.query.text.placeholder"}),onSearch:xr,options:(zt==null?void 0:zt.map(function(l){return{label:(0,e.jsx)(Sr.Z,{placement:"topLeft",title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:l==null?void 0:l.alias}),(0,e.jsx)("div",{children:l==null?void 0:l.cloudAccountId})]}),children:(l==null?void 0:l.alias)+"/"+(l==null?void 0:l.cloudAccountId)}),value:l==null?void 0:l.cloudAccountId}}))||[],style:{width:160}})})),M}})]})]})}),(0,e.jsx)(I.q9,{editorStyle:{height:"360px"},editorKey:"inputEditor",value:Qt,onChange:Yr}),(0,e.jsx)(Rt,{style:{marginTop:8},level:5,className:we.Z.customTitle,children:"OUTPUT"}),(0,e.jsx)(I.Wy,{viewerStyle:{height:"280px"},value:Tr})]})]})]}),he===2&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ft.Z,{name:"advice",label:n.formatMessage({id:"rule.module.text.repair.suggestions"}),placeholder:n.formatMessage({id:"common.input.text.placeholder"})}),(0,e.jsx)(Dr.Z,{name:"link",label:n.formatMessage({id:"rule.module.text.reference.link"}),placeholder:n.formatMessage({id:"common.input.text.placeholder"}),rules:[{pattern:new RegExp("^(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*$","i"),message:n.formatMessage({id:"common.input.text.link.check"})}]}),(0,e.jsx)(Ft.Z,{name:"context",label:n.formatMessage({id:"rule.module.text.risk.context.template"}),initialValue:wt})]})]})})})}),he===1&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Ot.Z.Group,{shape:"square",style:{insetInlineEnd:-2,top:(u=["xxLProMax","xxLFullHD","xxLPro"])!==null&&u!==void 0&&u.includes(le)?"7vh":"36vh",boxShadow:"none"},children:[(0,e.jsx)(Ot.Z,{onClick:function(){return Hr()},className:we.Z.floatButton,icon:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"rule.extend.text.history"})})}),(0,e.jsx)(Ot.Z,{onClick:function(){return $r()},className:we.Z.floatButton,icon:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"rule.extend.text.variable"})})})]})}),(0,e.jsx)(Lt.Z,{noteDrawerVisible:Or,setNoteDrawerVisible:Yt,noteDrawerInfo:Jt.current,requestRuleDetailById:Zt}),(0,e.jsx)(Nt,{formData:W,setCurrent:Ct,variableDrawerVisible:Pr,setVariableDrawerVisible:qt,variableDrawerInfo:er.current,requestRuleDetailById:Zt,selectedRowKeys:_t,setSelectedRowKeys:rr}),(0,e.jsx)(je,{linkDrawerVisible:kr,setLinkDrawerVisible:or,linkFormRef:Br,resourceTypeList:ie,form:ue,formData:W,setFormData:jt})]})},Nr=Er},94032:function(ce,P,t){"use strict";var v=t(97857),c=t.n(v),L=t(15009),x=t.n(L),_=t(99289),o=t.n(_),ae=t(5574),i=t.n(ae),d=t(29297),w=t(10736),Z=t(70989),H=t(93410),V=t(92016),p=t(68872),G=t(83622),T=t(85265),h=t(96486),b=t.n(h),A=t(62435),S=t(86074),Q=function(Y){var Ne=Y.noteDrawerVisible,Ge=Y.setNoteDrawerVisible,J=Y.noteDrawerInfo,Me=Y.requestRuleDetailById,ye=p.ZP.useMessage(),Qe=i()(ye,2),j=Qe[0],f=Qe[1],r=(0,V.useIntl)(),N=function(){Ge(!1)},z=function(){N()},g=(0,A.useRef)(),I=function(){var ne=o()(x()().mark(function B($){var se,D;return x()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return se={ruleId:J==null?void 0:J.ruleId,isDraft:0,ruleRego:$==null?void 0:$.ruleRego},F.next=3,(0,w.saveRego)(se);case 3:if(D=F.sent,!(D.code===200||D.msg==="success")){F.next=9;break}return j.success(r.formatMessage({id:"rule.message.text.version.rollback.success"})),F.next=8,Me(Number(J==null?void 0:J.ruleId));case 8:z();case 9:case"end":return F.stop()}},B)}));return function($){return ne.apply(this,arguments)}}(),xe=[{title:r.formatMessage({id:"rule.module.text.version"}),dataIndex:"version",align:"center",render:function(B){return"v"+B}},{title:r.formatMessage({id:"rule.module.text.user.name"}),dataIndex:"userName",align:"center"},{title:r.formatMessage({id:"common.table.columns.rule.updateTime"}),dataIndex:"gmtModified",align:"center"},{title:r.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"operate",align:"center",valueType:"option",render:function(B,$){return(0,S.jsx)(G.ZP,{type:"link",onClick:function(){return I($)},children:r.formatMessage({id:"common.button.text.rollback"})})}}],ge=function(){var ne=o()(x()().mark(function B($){var se,D,ve,F;return x()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return ve={page:$.current,size:$.pageSize,ruleId:J==null?void 0:J.ruleId},O.next=3,(0,w.queryRegoList)(c()({},ve));case 3:return F=O.sent,O.abrupt("return",{data:(F==null||(se=F.content)===null||se===void 0?void 0:se.data)||[],success:(F==null?void 0:F.code)===200||!1,total:(F==null||(D=F.content)===null||D===void 0?void 0:D.total)||0});case 5:case"end":return O.stop()}},B)}));return function($){return ne.apply(this,arguments)}}();return(0,S.jsxs)(T.Z,{title:r.formatMessage({id:"rule.extend.text.historical.records"}),width:"52%",destroyOnClose:!0,open:Ne,onClose:z,children:[f,(0,S.jsx)(Z.Z,{search:!1,scroll:{x:!0},options:!1,rowKey:"id",columns:xe,actionRef:g,request:ge,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},expandable:{expandRowByClick:!0,expandedRowRender:function(B){return(0,S.jsx)(H.Z,{direction:"column",gutter:[0,16],children:!(0,h.isEmpty)(B.ruleRego)&&(0,S.jsxs)(H.Z,{ghost:!0,children:[(0,S.jsx)("p",{children:r.formatMessage({id:"rule.module.text.info"})}),(0,S.jsx)(d.mi,{editorKey:"regoMsgEditor",value:B.ruleRego,editorStyle:{height:"280px",maxHeight:"280px"}})]})})},rowExpandable:function(B){return!(0,h.isEmpty)(B.ruleRego)}}})]})};P.Z=Q},70607:function(ce,P,t){"use strict";t.d(P,{a:function(){return i}});var v=t(5574),c=t.n(v),L=t(96486),x=t.n(L),_=t(62435),o={xs:575,sm:576,md:768,lg:992,xL:1200,xxL:1600,xxLPro:1800,xxLFullHD:1920,xxLProMax:2200},ae=function(w){var Z=w.query,H=Z===void 0?"":Z,V=w.throttleTime,p=V===void 0?200:V,G=useState(!1),T=_slicedToArray(G,2),h=T[0],b=T[1],A=useCallback(throttle(function(){var S=window.matchMedia(H);b(S.matches)},p),[p]);return useEffect(function(){var S;return(S=window)===null||S===void 0||S.addEventListener("resize",A),A(),function(){var Q;(Q=window)===null||Q===void 0||Q.removeEventListener("resize",A)}},[A]),h},i=function(w){var Z=w.throttleTime,H=Z===void 0?200:Z,V=(0,_.useState)("xxL"),p=c()(V,2),G=p[0],T=p[1],h=(0,_.useCallback)((0,L.throttle)(function(){for(var b in o)if(Object.prototype.hasOwnProperty.call(o,b)){var A,S=b,Q="(min-width: ".concat(o[S],"px)");S==="xs"&&(Q="(max-width: ".concat(o[S],"px)")),(A=window)!==null&&A!==void 0&&(A=A.matchMedia(Q))!==null&&A!==void 0&&A.matches&&T(S)}},H),[H]);return(0,_.useEffect)(function(){var b;return(b=window)===null||b===void 0||b.addEventListener("resize",h),h(),function(){var A;(A=window)===null||A===void 0||A.removeEventListener("resize",h)}},[h]),G}},53846:function(ce,P){"use strict";P.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},61194:function(ce,P){"use strict";P.Z={floatButton:"floatButton___c4Q61",ruleEditPageContainer:"ruleEditPageContainer___JtP7R",stepListMain:"stepListMain___MjGkn",stepsWrap:"stepsWrap___GXD6m",contentMainTransparent:"contentMainTransparent___KcrOp",contentMain:"contentMain___zT9JY",ruleEditPageContainerSpecial:"ruleEditPageContainerSpecial___JGb_t",rulePageContainer:"rulePageContainer___p2US0",customFilterCard:"customFilterCard___A5TQf",customTitle:"customTitle___k1LUC",cleanBlock:"cleanBlock___et5AN",dimBlock:"dimBlock___EvyJb",lineBreak:"lineBreak___Oybab"}},66309:function(ce,P,t){"use strict";t.d(P,{Z:function(){return f}});var v=t(62435),c=t(93967),L=t.n(c),x=t(98423),_=t(98787),o=t(69760),ae=t(96159),i=t(45353),d=t(53124),w=t(861),Z=t(15063),H=t(14747),V=t(83262),p=t(83559);const G=r=>{const{paddingXXS:N,lineWidth:z,tagPaddingHorizontal:g,componentCls:I,calc:xe}=r,ge=xe(g).sub(z).equal(),ne=xe(N).sub(z).equal();return{[I]:Object.assign(Object.assign({},(0,H.Wf)(r)),{display:"inline-block",height:"auto",marginInlineEnd:r.marginXS,paddingInline:ge,fontSize:r.tagFontSize,lineHeight:r.tagLineHeight,whiteSpace:"nowrap",background:r.defaultBg,border:`${(0,w.unit)(r.lineWidth)} ${r.lineType} ${r.colorBorder}`,borderRadius:r.borderRadiusSM,opacity:1,transition:`all ${r.motionDurationMid}`,textAlign:"start",position:"relative",[`&${I}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:r.defaultColor},[`${I}-close-icon`]:{marginInlineStart:ne,fontSize:r.tagIconSize,color:r.colorIcon,cursor:"pointer",transition:`all ${r.motionDurationMid}`,"&:hover":{color:r.colorTextHeading}},[`&${I}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${r.iconCls}-close, ${r.iconCls}-close:hover`]:{color:r.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${I}-checkable-checked):hover`]:{color:r.colorPrimary,backgroundColor:r.colorFillSecondary},"&:active, &-checked":{color:r.colorTextLightSolid},"&-checked":{backgroundColor:r.colorPrimary,"&:hover":{backgroundColor:r.colorPrimaryHover}},"&:active":{backgroundColor:r.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${r.iconCls} + span, > span + ${r.iconCls}`]:{marginInlineStart:ge}}),[`${I}-borderless`]:{borderColor:"transparent",background:r.tagBorderlessBg}}},T=r=>{const{lineWidth:N,fontSizeIcon:z,calc:g}=r,I=r.fontSizeSM;return(0,V.mergeToken)(r,{tagFontSize:I,tagLineHeight:(0,w.unit)(g(r.lineHeightSM).mul(I).equal()),tagIconSize:g(z).sub(g(N).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:r.defaultBg})},h=r=>({defaultBg:new Z.FastColor(r.colorFillQuaternary).onBackground(r.colorBgContainer).toHexString(),defaultColor:r.colorText});var b=(0,p.I$)("Tag",r=>{const N=T(r);return G(N)},h),A=function(r,N){var z={};for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&N.indexOf(g)<0&&(z[g]=r[g]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,g=Object.getOwnPropertySymbols(r);I<g.length;I++)N.indexOf(g[I])<0&&Object.prototype.propertyIsEnumerable.call(r,g[I])&&(z[g[I]]=r[g[I]]);return z},Q=v.forwardRef((r,N)=>{const{prefixCls:z,style:g,className:I,checked:xe,onChange:ge,onClick:ne}=r,B=A(r,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:$,tag:se}=v.useContext(d.E_),D=ee=>{ge==null||ge(!xe),ne==null||ne(ee)},ve=$("tag",z),[F,U,O]=b(ve),Pe=L()(ve,`${ve}-checkable`,{[`${ve}-checkable-checked`]:xe},se==null?void 0:se.className,I,U,O);return F(v.createElement("span",Object.assign({},B,{ref:N,style:Object.assign(Object.assign({},g),se==null?void 0:se.style),className:Pe,onClick:D})))}),me=t(98719);const Y=r=>(0,me.Z)(r,(N,{textColor:z,lightBorderColor:g,lightColor:I,darkColor:xe})=>({[`${r.componentCls}${r.componentCls}-${N}`]:{color:z,background:I,borderColor:g,"&-inverse":{color:r.colorTextLightSolid,background:xe,borderColor:xe},[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}));var Ne=(0,p.bk)(["Tag","preset"],r=>{const N=T(r);return Y(N)},h);function Ge(r){return typeof r!="string"?r:r.charAt(0).toUpperCase()+r.slice(1)}const J=(r,N,z)=>{const g=Ge(z);return{[`${r.componentCls}${r.componentCls}-${N}`]:{color:r[`color${z}`],background:r[`color${g}Bg`],borderColor:r[`color${g}Border`],[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Me=(0,p.bk)(["Tag","status"],r=>{const N=T(r);return[J(N,"success","Success"),J(N,"processing","Info"),J(N,"error","Error"),J(N,"warning","Warning")]},h),ye=function(r,N){var z={};for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&N.indexOf(g)<0&&(z[g]=r[g]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,g=Object.getOwnPropertySymbols(r);I<g.length;I++)N.indexOf(g[I])<0&&Object.prototype.propertyIsEnumerable.call(r,g[I])&&(z[g[I]]=r[g[I]]);return z};const j=v.forwardRef((r,N)=>{const{prefixCls:z,className:g,rootClassName:I,style:xe,children:ge,icon:ne,color:B,onClose:$,bordered:se=!0,visible:D}=r,ve=ye(r,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:F,direction:U,tag:O}=v.useContext(d.E_),[Pe,ee]=v.useState(!0),e=(0,x.Z)(ve,["closeIcon","closable"]);v.useEffect(()=>{D!==void 0&&ee(D)},[D]);const ft=(0,_.o2)(B),pt=(0,_.yT)(B),nt=ft||pt,It=Object.assign(Object.assign({backgroundColor:B&&!nt?B:void 0},O==null?void 0:O.style),xe),je=F("tag",z),[Lt,ke,At]=b(je),St=L()(je,O==null?void 0:O.className,{[`${je}-${B}`]:nt,[`${je}-has-color`]:B&&!nt,[`${je}-hidden`]:!Pe,[`${je}-rtl`]:U==="rtl",[`${je}-borderless`]:!se},g,I,ke,At),st=Be=>{Be.stopPropagation(),$==null||$(Be),!Be.defaultPrevented&&ee(!1)},[,Et]=(0,o.Z)((0,o.w)(r),(0,o.w)(O),{closable:!1,closeIconRender:Be=>{const Tt=v.createElement("span",{className:`${je}-close-icon`,onClick:st},Be);return(0,ae.wm)(Be,Tt,_e=>({onClick:De=>{var lt;(lt=_e==null?void 0:_e.onClick)===null||lt===void 0||lt.call(_e,De),st(De)},className:L()(_e==null?void 0:_e.className,`${je}-close-icon`)}))}}),Nt=typeof ve.onClick=="function"||ge&&ge.type==="a",ht=ne||null,wt=ht?v.createElement(v.Fragment,null,ht,ge&&v.createElement("span",null,ge)):ge,xt=v.createElement("span",Object.assign({},e,{ref:N,className:St,style:It}),wt,Et,ft&&v.createElement(Ne,{key:"preset",prefixCls:je}),pt&&v.createElement(Me,{key:"status",prefixCls:je}));return Lt(Nt?v.createElement(i.Z,{component:"Tag"},xt):xt)});j.CheckableTag=Q;var f=j},85674:function(ce,P,t){var v={"./simpleWorker":18352,"./simpleWorker.js":18352};function c(L){return Promise.resolve().then(function(){if(!t.o(v,L)){var x=new Error("Cannot find module '"+L+"'");throw x.code="MODULE_NOT_FOUND",x}var _=v[L];return t(_)})}c.keys=function(){return Object.keys(v)},c.id=85674,ce.exports=c},10131:function(ce,P,t){var v={"./editorBaseApi":[20927],"./editorBaseApi.js":[20927],"./editorSimpleWorker":[81465],"./editorSimpleWorker.js":[81465],"./editorWorker":[85215],"./editorWorker.js":[85215],"./editorWorkerHost":[98008],"./editorWorkerHost.js":[98008],"./findSectionHeaders":[72846],"./findSectionHeaders.js":[72846],"./getIconClasses":[22016],"./getIconClasses.js":[22016],"./languageFeatureDebounce":[88191],"./languageFeatureDebounce.js":[88191],"./languageFeatures":[71922],"./languageFeatures.js":[71922],"./languageFeaturesService":[7421],"./languageFeaturesService.js":[7421],"./languageService":[81032],"./languageService.js":[81032],"./languagesAssociations":[73536],"./languagesAssociations.js":[73536],"./languagesRegistry":[4765],"./languagesRegistry.js":[4765],"./markerDecorations":[36357],"./markerDecorations.js":[36357],"./markerDecorationsService":[86036],"./markerDecorationsService.js":[86036],"./model":[73733],"./model.js":[73733],"./modelService":[51200],"./modelService.js":[51200],"./resolverService":[88216],"./resolverService.js":[88216],"./semanticTokensDto":[14704],"./semanticTokensDto.js":[14704],"./semanticTokensProviderStyling":[92294],"./semanticTokensProviderStyling.js":[92294],"./semanticTokensStyling":[73343],"./semanticTokensStyling.js":[73343],"./semanticTokensStylingService":[84146],"./semanticTokensStylingService.js":[84146],"./textModelSync/textModelSync.impl":[28944],"./textModelSync/textModelSync.impl.js":[28944],"./textModelSync/textModelSync.protocol":[23145,3145],"./textModelSync/textModelSync.protocol.js":[23145,3145],"./textResourceConfiguration":[71765],"./textResourceConfiguration.js":[71765],"./treeSitterParserService":[28922],"./treeSitterParserService.js":[28922],"./treeViewsDnd":[80642],"./treeViewsDnd.js":[80642],"./treeViewsDndService":[58345],"./treeViewsDndService.js":[58345],"./unicodeTextModelHighlighter":[31446],"./unicodeTextModelHighlighter.js":[31446]};function c(L){if(!t.o(v,L))return Promise.resolve().then(function(){var o=new Error("Cannot find module '"+L+"'");throw o.code="MODULE_NOT_FOUND",o});var x=v[L],_=x[0];return Promise.all(x.slice(1).map(t.e)).then(function(){return t(_)})}c.keys=function(){return Object.keys(v)},c.id=10131,ce.exports=c}}]);
