"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4559],{24163:function(Z,h,t){var T=t(97857),D=t.n(T),L=t(25593),j=t(83062),G=t(62435),u=t(86074),W=L.Z.Paragraph;h.Z=function(a){var p=a.text,C=a.width,y=a.maxWidth,b=a.rows,A=b===void 0?2:b,P=a.placement,E=P===void 0?"top":P,R=a.color,I=R===void 0?"rgba(0, 0, 0, 0.88)":R,O=a.link,U=O===void 0?!1:O,B=a.onClickCallBackFunc,v=a.style,M=v===void 0?{}:v,x=a.copyable,K=x===void 0?!1:x;return(0,u.jsx)("div",{style:{maxWidth:y,width:C},children:(0,u.jsx)(j.Z,{title:(0,u.jsx)("div",{children:p}),placement:E,children:(0,u.jsx)(W,{ellipsis:{rows:A},style:D()({marginBottom:0,color:I,cursor:U?"pointer":""},M),onClick:B,copyable:K,children:p})})})}},80113:function(Z,h,t){t.r(h);var T=t(97857),D=t.n(T),L=t(13769),j=t.n(L),G=t(15009),u=t.n(G),W=t(99289),a=t.n(W),p=t(5574),C=t.n(p),y=t(53846),b=t(24163),A=t(77603),P=t(68431),E=t(96655),R=t(29448),I=t(39380),O=t(70989),U=t(92016),B=t(68872),v=t(83622),M=t(96074),x=t(72269),K=t(86738),V=t(27484),S=t.n(V),k=t(62435),n=t(86074),J=["pageSize","current"],Q=function(){var g=(0,k.useRef)(),s=(0,U.useIntl)(),X=B.ZP.useMessage(),$=C()(X,2),H=$[0],q=$[1],ee=(0,k.useState)(!1),w=C()(ee,2),te=w[0],z=w[1],Y=(0,k.useRef)({}),se=function(){var r=a()(u()().mark(function i(e){var o,d,_;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o={id:e.id},m.next=3,(0,E.queryWhiteRuleGrabLock)(o);case 3:d=m.sent,d.code===200&&(H.success(s.formatMessage({id:"common.message.text.edit.success"})),(_=g.current)===null||_===void 0||_.reloadAndRest());case 5:case"end":return m.stop()}},i)}));return function(e){return r.apply(this,arguments)}}(),N=function(i){z(!0),Y.current=i},ne=function(){var r=a()(u()().mark(function i(e){var o,d,_,c;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={id:e==null?void 0:e.id,enable:(e==null?void 0:e.enable)===1?0:1},l.next=3,(0,E.queryChangeWhiteListRuleStatus)(o);case 3:d=l.sent,d.code===200&&(H.success(s.formatMessage({id:"common.message.text.edit.success"})),(_=g.current)===null||_===void 0||(c=_.reloadAndRest)===null||c===void 0||c.call(_));case 5:case"end":return l.stop()}},i)}));return function(e){return r.apply(this,arguments)}}(),le=function(){var r=a()(u()().mark(function i(e){var o,d,_,c;return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={id:e==null?void 0:e.id},l.next=3,(0,E.queryDeleteWhiteListRuleById)(o);case 3:d=l.sent,d.code===200&&(H.success(s.formatMessage({id:"common.message.text.delete.success"})),(_=g.current)===null||_===void 0||(c=_.reloadAndRest)===null||c===void 0||c.call(_));case 5:case"end":return l.stop()}},i)}));return function(e){return r.apply(this,arguments)}}(),ie=[{title:s.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(i,e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("section",{style:{color:"#999"},children:S()(e==null?void 0:e.gmtCreate).format("YYYY-MM-DD 18:00:00")||"-"}),(0,n.jsx)("section",{style:{color:"#999"},children:S()(e==null?void 0:e.gmtModified).format("YYYY-MM-DD 18:00:00")||"-"})]})}},{title:s.formatMessage({id:"rule.extend.text.whiteList.title"}),dataIndex:"ruleName",valueType:"text",align:"left"},{title:s.formatMessage({id:"rule.extend.text.whiteList.describe"}),dataIndex:"ruleDesc",valueType:"text",align:"left",hideInSearch:!0,render:function(i,e){return(0,n.jsx)(b.Z,{text:(e==null?void 0:e.ruleDesc)||"-",maxWidth:240,rows:1,style:{color:"rgb(51, 51, 51)"},placement:"topLeft"})}},{title:s.formatMessage({id:"rule.table.columns.text.type"}),dataIndex:"ruleType",valueType:"select",valueEnum:(0,R.W_)(P.sN),align:"center"},{title:s.formatMessage({id:"rule.table.columns.text.creator"}),dataIndex:"creatorName",valueType:"text",align:"center"},{title:s.formatMessage({id:"rule.table.columns.text.lockor"}),dataIndex:"lockHolderName",valueType:"text",align:"center",hideInSearch:!0},{title:s.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",render:function(i,e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.ZP,{size:"small",type:"link",onClick:function(){return se(e)},children:s.formatMessage({id:"rule.table.columns.text.grab.lock"})}),(0,n.jsx)(M.Z,{type:"vertical",style:{margin:"0 8px 0 0"}}),(0,n.jsx)(x.Z,{disabled:!(e!=null&&e.isLockHolder),checkedChildren:s.formatMessage({id:"common.button.text.enable"}),unCheckedChildren:s.formatMessage({id:"common.button.text.disable"}),checked:(e==null?void 0:e.enable)===1,onClick:function(){return ne(e)}}),(0,n.jsx)(M.Z,{type:"vertical",style:{margin:"0 0 0 8px"}}),(0,n.jsx)(v.ZP,{size:"small",type:"link",disabled:!(e!=null&&e.isLockHolder),onClick:function(){return N(e)},children:s.formatMessage({id:"common.button.text.edit"})}),(0,n.jsx)(M.Z,{type:"vertical"}),(0,n.jsx)(K.Z,{title:s.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return le(e)},okText:s.formatMessage({id:"common.button.text.ok"}),cancelText:s.formatMessage({id:"common.button.text.cancel"}),children:(0,n.jsx)(v.ZP,{type:"link",danger:!0,size:"small",disabled:!(e!=null&&e.isLockHolder),children:s.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,n.jsxs)(I._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[q,(0,n.jsx)(O.Z,{headerTitle:(0,n.jsx)("div",{className:y.Z.customTitle,children:s.formatMessage({id:"rule.module.text.whiteList.inquiry"})}),scroll:{x:"max-content"},actionRef:g,search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},rowKey:"id",request:function(){var r=a()(u()().mark(function i(e){var o,d,_,c,m,l,F;return u()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=e.pageSize,d=e.current,_=j()(e,J),c=D()(D()({},_),{},{page:d,size:o}),f.next=4,(0,E.queryWhiteRuleList)(c);case 4:return m=f.sent,l=m.content,F=m.code,f.abrupt("return",{data:(l==null?void 0:l.data)||[],total:(l==null?void 0:l.total)||0,success:F===200||!1});case 8:case"end":return f.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),toolBarRender:function(){return[(0,n.jsx)(v.ZP,{type:"primary",onClick:function(){return N({})},children:s.formatMessage({id:"rule.module.text.createWhiteList"})},"create")]},columns:ie,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,n.jsx)(A.Z,{editDrawerVisible:te,setEditDrawerVisible:z,whiteListDrawerInfo:Y.current,tableActionRef:g})]})};h.default=Q},53846:function(Z,h){h.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
